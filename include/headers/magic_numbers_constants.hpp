#pragma once

#include <array>
#include <memory>

typedef uint64_t Bitboard;

namespace chess::magic_numbers {
    constexpr std::array<Bitboard, 64> rook_magic_numbers = {
            0x80004008805020, 0x40200210004000, 0x300200100285040, 0x3000d0020081000,
            0x200060010442008, 0x5200010600500884, 0x480008002000300, 0x880010000204080,
            0x411002108800140, 0x40084010002000c0, 0x1001001301442000, 0x521001821001000,
            0x101a00200a011004, 0x6003009020004, 0x100030086000c, 0x1002000408690082,
            0x80004000402000, 0x10024020014000, 0x7c40110020010040, 0x10008010080081,
            0x4201010004080010, 0x2243010008020400, 0x2000040008420190, 0x20080200004c04a3,
            0x80024840002008, 0x10004240012000, 0x810080020200400, 0x910000900106101,
            0x200a200100844, 0x642000200100408, 0x100220c00011008, 0x2040082000400e1,
            0x6007401421800280, 0x303000a000404008, 0x409101002000, 0x80104202002008,
            0x2084008008080040, 0x206000806003410, 0x4109204000805, 0x4000058c52000401,
            0x208000402000400c, 0x1100208201020044, 0x802008140220010, 0x211001000090020,
            0x58000402004040, 0x421000214010008, 0xc08100201040028, 0x104008408620009,
            0x481214700800100, 0x5410106000400040, 0x20001102a04100, 0x1042100300201900,
            0x100508010100, 0x801000802040100, 0x60101a210081400, 0x4680010442840200,
            0x2080420100902482, 0x601901400281, 0x4401012002281141, 0x220040300666,
            0x1004210040801, 0x2845000208240001, 0x20090800900244, 0x4120484050028c6,

    };

    constexpr std::array<Bitboard, 64> bishop_magic_numbers = {
            0x60141002002020, 0x5410300202404000, 0x61020402400000, 0x18048108880004,
            0x221210120a110c, 0x200a080308010008, 0x224452808c000f0, 0x8404210100200,
            0x108410042240, 0x41020a102020851, 0x1200088801002000, 0x100040400820810,
            0x11041814b02, 0x4001100a900010, 0x240020610240600, 0x100008441101020,
            0x810014044090410, 0x4804000218420400, 0x890000504002044, 0x8011041414060,
            0x2040c12020002, 0x41000820884010, 0x400040010402600e, 0x2400230a02014410,
            0x4c201040200c0100, 0x43002c0040c0400, 0x580500001140280, 0x20080001040408,
            0x1851010030104000, 0x2448060004490408, 0x1020e01d82400, 0x801220001005110,
            0x802120a182008, 0x8020a1000200112, 0x1c0048100400a2, 0x28540400080120,
            0x4010200100808, 0x1023014200110100, 0x2040641040201, 0x24404200004101,
            0x8011820100860, 0x800480808407400, 0x2021008044401008, 0x20c0204202082020,
            0x240012012001100, 0x4001101000800042, 0x2200284010e0844, 0x208048901400212,
            0x50608020b102000, 0x2000220210040882, 0x8040b3402080004, 0x230488046080000,
            0x4000000530440c20, 0x12200a242010, 0x2108080904040c04, 0x2004140802022001,
            0x44030401040e0200, 0x2000028404490400, 0x2414080024060800, 0x1002200000840400,
            0x204200c0380b0410, 0x1a20400812081210, 0x220110230040480, 0x4050020808c40540,
    };

    constexpr std::array<Bitboard, 64> vertical_pin_magic_numbers = {
            108394262974963776,
            4756954731673817152,
            4688845552711630977,
            4539900716206082,
            1126484024623937,
            19210746097434756,
            2322310292835202,
            1196414822518789,
            324312499620954258,
            4647723628988080129,
            1157433986285379586,
            1152975397995413634,
            90639362031091746,
            1524472872196718722,
            1155191039422693394,
            74309943676710977,
            4616189755636318788,
            2306405977156507665,
            577586789675435569,
            433480328955363400,
            18300272237871236,
            90674954424553730,
            7208081607014613121,
            1161128302874753,
            297246922433892480,
            2308447288571463696,
            1154056277926748161,
            1153000703822790788,
            5855810371931087368,
            180429875299164226,
            36046664173420554,
            36679845345756169,
            4647750583943431170,
            5188432712609825344,
            577589538429342470,
            4886406179863530513,
            1173192170233004161,
            292804911458951689,
            180498028117887009,
            364820707412280385,
            4613940154971849856,
            297246651477671938,
            776873152461406992,
            1333628783388066817,
            38283484141720068,
            10696603450999364,
            27039464979169666,
            5944764839976501313,
            1170973304901599872,
            154257637919170624,
            4652219531799298336,
            1155177706837590290,
            613624391355858945,
            4972554676793786636,
            144186726301114497,
            4509373682419713,
            594480382628335624,
            1154399531770060864,
            2886816780544901632,
            36332296622572224,
            4683779347701040128,
            4548696792384000,
            4683849475096068609,
            1369129539904473152
    };

    constexpr std::array<Bitboard, 64> horizontal_pin_magic_numbers = {
            72057671414792200,
            1369376037120514064,
            936748791480976721,
            5260208762832027784,
            1225051666689171560,
            578712552658239488,
            4683779896383635520,
            144186037990593024,
            281509336457280,
            2324701833865463808,
            154529900726845441,
            5623025884643459104,
            4785113258917890,
            9288674768322692,
            1130298087587864,
            36310272000925824,
            108096286662590464,
            36652220112240865,
            19145795974594592,
            293332247947378688,
            1230344785249042432,
            1297072976717546496,
            1152992972862652448,
            4612321536149291008,
            72057606923943936,
            281487868166273,
            284107793836289,
            687736881152,
            288248587082268672,
            2450239706762317824,
            2306986780486012928,
            11259007658622984,
            144115533032259584,
            1441161862380003844,
            2305861152233488384,
            5872975423578570752,
            2322452295188992,
            18014399063130113,
            4755814401381236736,
            4611973129483321344,
            3476778998239920129,
            81064862167531520,
            6061845098441015296,
            72067524002906120,
            147000306655363074,
            2594073386441310472,
            2305860944998958098,
            76587582481367060,
            4503599633664258,
            18056180555318017,
            1153486653583527168,
            162130720524888320,
            2533480948830464,
            4719776953828204800,
            3476779050876813569,
            324824322164269120,
            9897014984961,
            562984850046979,
            302366771380301,
            144172362949009433,
            24778637261669905,
            11260717189631009,
            6756361534701633,
            2306476328987148290
    };

    constexpr std::array<Bitboard, 64> up_right_pin_magic_numbers = {
            165547573120204865,
            2319358244966900992,
            5192651611620773901,
            1442282180059332610,
            1153485043272777763,
            578995130900830342,
            577305177569116160,
            1,
            4419588718722,
            1188968568155406417,
            1152922105969976352,
            2307004647694409752,
            4755876063542837281,
            324275120385490944,
            144151480551079952,
            432345565301325824,
            4755801275391033620,
            4616471299257091138,
            7206920531055607817,
            1161946308934828048,
            6345571952279293952,
            149252385590481664,
            613055828951367720,
            7207166779750351121,
            54063283359191044,
            8899306979588,
            3382097800724994,
            1463672765130343009,
            5765734531078358272,
            6981991212538478856,
            2972658466579021824,
            1478309326530564420,
            40532483097305092,
            2252074691986472,
            432358930703721477,
            91206697205895937,
            2451088512439681553,
            4904422194303598656,
            1157434454453528576,
            1447909480301864993,
            4611738794985662496,
            297242120022925320,
            2305843584873531394,
            2990707095459922314,
            22520231788282073,
            307654357225046145,
            580968784406249488,
            581249134200094720,
            64,
            1170935937481572640,
            86438903824,
            290571374402147397,
            3461614465207762946,
            301745710590607521,
            156060428596691137,
            4631112207051014160,
            1,
            32768,
            4611756387182062084,
            6919780827993743424,
            37155251543491136,
            5764625261922551840,
            20301520201384480,
            577410902299574672
    };

    constexpr std::array<Bitboard, 64> down_right_pin_magic_numbers = {
            1,
            756886212409032712,
            7512096581598838880,
            2308165487248277504,
            1162509521424220456,
            4932006878923784193,
            1370265314386788366,
            299560877839942720,
            5764618518691971088,
            2378008355663773712,
            650828970102817802,
            459402386159435792,
            4683744798455113728,
            13541654229704704,
            2252350375855136,
            19792316989728,
            2319424882842009604,
            373799319364714496,
            76597006178451712,
            18588688251355136,
            144153705479147554,
            5769181492077084704,
            44092236369472,
            17597028110344,
            585487742767473185,
            148636449984487424,
            36644803243933715,
            113716990338678784,
            360358975193088576,
            5766897805910149184,
            2488248148578271874,
            18032025600657808,
            577105757607169154,
            1333637373355383302,
            72902362836502528,
            108649491336790280,
            360359489985184004,
            56076703892484,
            69258576400,
            1315051091200730404,
            288835202574189569,
            1297328097658012704,
            72101853717868608,
            5350502955024898,
            666542099331678472,
            4620980268604851216,
            2305863079600063492,
            576460753377706244,
            721141231241397250,
            72673397993373704,
            90107727921546304,
            582095070807998478,
            433756375697588248,
            604045438550745090,
            144397248510369795,
            2,
            1733899059401394176,
            1873532767470880772,
            2305844127550546436,
            585754649785599040,
            2892437135733428576,
            72066390131171631,
            256,
            1
    };
}